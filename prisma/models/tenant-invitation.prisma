model TenantInvitation {
  id        String               @id @default(cuid())
  tenantId  String
  email     String
  role      TenantMemberRole     @default(MEMBER)
  title     String?
  token     String               @unique @default(cuid())
  status    InvitationStatus     @default(PENDING)
  invitedBy String
  expiresAt DateTime
  createdAt DateTime             @default(now())
  updatedAt DateTime             @updatedAt

  tenant  Tenant @relation(fields: [tenantId], references: [id], onDelete: Cascade)
  inviter User   @relation("InvitationInviter", fields: [invitedBy], references: [id])

  @@unique([tenantId, email])
  @@index([token])
  @@index([email])
  @@map("tenant_invitations")
}

enum InvitationStatus {
  PENDING
  ACCEPTED
  EXPIRED
  REVOKED
}
