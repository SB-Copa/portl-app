model OrganizerApplication {
  id        String                      @id @default(cuid())
  userId    String
  tenantId  String
  status    OrganizerApplicationStatus  @default(NOT_STARTED)
  currentStep Int                       @default(1)

  // Step 1: Organizer Type
  organizerType        OrganizerType?
  organizerDescription String?        @db.Text

  // Step 2: Event Portfolio (stored as JSON)
  eventPortfolio Json?

  // Step 3: Compliance
  complianceAcknowledged Boolean @default(false)

  submittedAt DateTime?
  reviewedAt  DateTime?
  reviewedBy  String?
  reviewNotes String?   @db.Text

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)
  tenant Tenant @relation(fields: [tenantId], references: [id], onDelete: Cascade)

  @@unique([userId, tenantId])
  @@index([userId])
  @@index([tenantId])
  @@index([status])
  @@map("organizer_applications")
}

enum OrganizerApplicationStatus {
  NOT_STARTED
  IN_PROGRESS
  SUBMITTED
  APPROVED
  REJECTED
}

enum OrganizerType {
  INDIVIDUAL
  TEAM
  COMPANY
}
