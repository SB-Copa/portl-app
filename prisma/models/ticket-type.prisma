model TicketType {
  id            String      @id @default(cuid())
  eventId       String
  name          String
  description   String?     @db.Text
  kind          TicketKind
  basePrice     Int        // Base price in PHP
  quantityTotal Int?        // Optional total inventory
  quantitySold  Int         @default(0)
  transferrable  Boolean    @default(false)
  cancellable     Boolean    @default(false)
  
  // For TABLE and SEAT kinds, link to specific table
  tableId       String?
  
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt

  event      Event                @relation(fields: [eventId], references: [id], onDelete: Cascade)
  table      Table?               @relation(fields: [tableId], references: [id], onDelete: SetNull)
  priceTiers TicketTypePriceTier[]
  promotions PromotionTicketType[]

  @@index([eventId])
  @@index([kind])
  @@index([tableId])
  @@map("ticket_types")
}

enum TicketKind {
  GENERAL // Normal ticket
  TABLE   // Whole-table product
  SEAT    // Seat product
}
